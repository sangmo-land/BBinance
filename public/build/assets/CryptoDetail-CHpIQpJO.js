import{u as D,R as fe,r as a,j as e,L as O}from"./app-BFCqNxp5.js";import{A as Pe,S as qe}from"./SEOHead-DYWEWFOJ.js";import{K as x}from"./transition-D4XmwJYO.js";import{h as m}from"./dialog-6Wrn_KT_.js";function r(b,l=8){const M=Number(b);return(Number.isFinite(M)?M:0).toLocaleString("en-US",{minimumFractionDigits:l,maximumFractionDigits:l})}function rs({account:b,currency:l,balances:M,spotBalances:se=[],allCurrencyBalances:w=[],rateToUsd:te,walletType:W,tradingPairs:N=[],tradingFeePercent:P=.1,transactions:g=[],fiatBalances:q={}}){const re=M.reduce((s,t)=>s+Number(t.balance),0),he=re*(te||0),ae=[...N].sort((s,t)=>(s.from+s.to).localeCompare(t.from+t.to)),le=ae.slice(0,6),ne=ae.slice(6),{data:Ke,setData:be,post:ye,processing:je,errors:Ye,reset:Ge}=D({pair_id:"",amount:"",spending_currency:"",receiving_currency:""}),{data:Je,setData:ve,post:we,processing:Ne,errors:Qe,reset:Xe}=D({pair_id:"",amount:"",spending_currency:"",receiving_currency:""}),u=fe.useMemo(()=>{if(!W)return"Spot";const s=W.toLowerCase();return s==="earning"||s==="earn"?"Earn":s.charAt(0).toUpperCase()+s.slice(1)},[W]),{data:y,setData:C,post:ke,processing:K,errors:oe,reset:Ce}=D({amount:"",from_wallet:u,to_wallet:u==="Spot"?"Funding":"Spot",currency:l});a.useEffect(()=>{C("from_wallet",u),C("to_wallet",u==="Spot"?"Funding":"Spot")},[u]);const{data:f,setData:A,post:Fe,processing:Y,errors:$,reset:Se}=D({from_currency:l,to_currency:"",amount:"",wallet_type:u});a.useEffect(()=>{A(s=>({...s,wallet_type:u}))},[u]);let[F,B]=a.useState(!1),[L,E]=a.useState(!1),[_e,z]=a.useState(!1),[De,R]=a.useState(!1),[Le,U]=a.useState(!1),[Te,I]=a.useState(!1);const{data:j,setData:G,post:Me,processing:ie,errors:de,reset:We}=D({amount:"",currency:"USD"}),{data:v,setData:J,post:Ae,processing:ce,errors:xe,reset:$e}=D({amount:"",currency:"USD"});let[T,Q]=a.useState(N.length>0?N[0].id:null),[i,H]=a.useState("");const o=N.find(s=>s.id==T)||N[0]||null,me=s=>o?s==="BUY"?{spending:o.to,receiving:o.from,rateLabel:`1 ${o.from} = ${r(o.rate,o.rate<1?6:2)} ${o.to}`,quotePrice:o.rate,isInverted:!1}:{spending:o.from,receiving:o.to,rateLabel:`1 ${o.from} = ${r(o.rate,o.rate<1?6:2)} ${o.to}`,quotePrice:o.rate,isInverted:!0}:{},ue=me("BUY"),pe=me("SELL"),d=F?ue:L?pe:{};fe.useEffect(()=>{if(o&&(F||L)){const s=F?ue:pe,t={pair_id:o.id,amount:i,spending_currency:s.spending,receiving_currency:s.receiving};F&&be(t),L&&ve(t)}},[i,T,F,L]);const Be=()=>{ye(route("accounts.buy-crypto",b.id),{preserveScroll:!0,onSuccess:()=>{B(!1),H("")}})},Ee=()=>{we(route("accounts.sell-crypto",b.id),{preserveScroll:!0,onSuccess:()=>{E(!1),H("")}})},ze=s=>{s.preventDefault(),ke(route("accounts.transfer-crypto",b.id),{preserveScroll:!0,onSuccess:()=>{z(!1),Ce()}})},Re=s=>{s.preventDefault(),Fe(route("accounts.convert-crypto-action",b.id),{preserveScroll:!0,onSuccess:()=>{R(!1),Se()}})},Ue=s=>{s.preventDefault(),Me(route("accounts.deposit-fiat-funding",b.id),{onSuccess:()=>{U(!1),We()}})},Ie=s=>{s.preventDefault(),Ae(route("accounts.withdraw-funding",b.id),{onSuccess:()=>{I(!1),$e()}})},He=s=>{s==="Buy"?B(!0):s==="Sell"?E(!0):s==="Transfer"?(C("to_wallet",u==="Spot"?"Funding":"Spot"),C("amount",""),z(!0)):s==="Convert"?(A(t=>({...t,amount:"",to_currency:"",wallet_type:u})),R(!0)):s==="Deposit"?u==="Funding"?(G("currency",l==="EUR"?"EUR":"USD"),U(!0)):alert("Crypto Deposit Feature coming soon."):s==="Withdraw"&&(u==="Funding"?(J("currency",l==="EUR"?"EUR":"USD"),I(!0)):alert("Standard withdrawal for Spot/Earn currently disabled or handled elsewhere."))};let S=0;d.spending&&i&&o&&(d.isInverted?S=parseFloat(i)*o.rate:S=parseFloat(i)/o.rate);const X=S*(P/100),V=S-X,_=d.spending||"",ge=se.find(s=>s.currency===_),Z=ge?Number(ge.balance):0,h=_&&i&&parseFloat(i)>Z,k=je||Ne;return e.jsxs(Pe,{children:[e.jsx(qe,{title:`${l} Details - ${b.account_number}`,description:`View detailed ${l} balance information.`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6 md:p-10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 flex items-center justify-center rounded-full bg-indigo-100 text-indigo-700 font-bold text-sm ring-2 ring-white shadow-sm",children:l.substring(0,3)}),l," Details"]}),e.jsxs("p",{className:"text-lg text-gray-500 mt-1 ml-13 capitalize",children:[W||"Spot"," Wallet •"," ",b.account_number]})]}),e.jsx(O,{href:route("accounts.show",b.id),className:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-bold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150",children:"← Back to Wallet"})]}),e.jsxs("div",{className:"mb-8 p-8 bg-gradient-to-br from-gray-900 to-gray-800 rounded-3xl shadow-2xl text-white relative overflow-hidden ring-1 ring-gray-700",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-72 h-72 rounded-full bg-indigo-500/20 blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-56 h-56 rounded-full bg-blue-500/10 blur-3xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h2",{className:"text-gray-400 font-bold text-xs uppercase tracking-[0.2em] mb-4",children:"Total Balance"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-baseline gap-4",children:[e.jsx("span",{className:"text-5xl md:text-6xl font-black tracking-tighter text-white",children:r(re,8)}),e.jsx("span",{className:"text-2xl font-bold text-indigo-400",children:l})]}),e.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[e.jsxs("div",{className:"px-4 py-2 rounded-xl bg-white/10 backdrop-blur-md border border-white/10 shadow-inner flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-400 font-medium",children:"≈"}),e.jsxs("span",{className:"text-xl font-bold text-white",children:["$",r(he,2)]}),e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"USD"})]}),e.jsxs("div",{className:"text-xs text-gray-500 font-medium",children:["1 ",l," ≈ $",r(te,2)," USD"]})]})]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-y-6 gap-x-2 mb-8 justify-items-center max-w-2xl mx-auto",children:[{name:"Trade",icon:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4",color:"text-amber-500"},{name:"Transfer",icon:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4",color:"text-blue-500"},{name:"Convert",icon:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15",color:"text-purple-500"},{name:"Buy",icon:"M12 6v6m0 0v6m0-6h6m-6 0H6",color:"text-green-500"},{name:"Sell",icon:"M20 12H4",color:"text-red-500"},{name:"Earn",icon:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z",color:"text-indigo-500"},{name:"Redeem",icon:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2zM10 8.5a.5.5 0 11-1 0 .5.5 0 011 0zm5 5a.5.5 0 11-1 0 .5.5 0 011 0z",color:"text-orange-500"},{name:"Deposit",icon:"M19 14l-7 7m0 0l-7-7m7 7V3",color:"text-teal-500"},{name:"Withdraw",icon:"M5 10l7-7m0 0l7 7m-7-7v18",color:"text-gray-500"}].filter(s=>{if(u==="Spot"){if(["Deposit","Withdraw","Earn","Redeem"].includes(s.name))return!1}else if(u==="Funding"){if(["Buy","Sell","Trade","Earn","Redeem"].includes(s.name))return!1}else if(u==="Earn"&&!["Earn","Redeem","Transfer"].includes(s.name))return!1;return!0}).map(s=>e.jsxs("button",{onClick:()=>He(s.name),className:"group flex flex-col items-center gap-2",children:[e.jsxs("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br from-gray-100 via-gray-200 to-gray-300 border-2 border-gray-300 shadow-[0_4px_10px_rgb(0,0,0,0.1)] flex items-center justify-center group-hover:shadow-[0_8px_20px_rgb(0,0,0,0.15)] group-hover:-translate-y-1 transition-all duration-300 group-hover:border-amber-400 overflow-hidden relative ${s.color}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-200/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("svg",{className:"w-6 h-6 relative z-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:s.icon})})]}),e.jsx("span",{className:"text-xs font-bold text-gray-500 group-hover:text-gray-900 transition-colors",children:s.name})]},s.name))}),le.length>0&&e.jsxs("div",{className:"mb-10",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-5 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"Trade"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 mb-6",children:le.map(s=>e.jsxs("div",{onClick:()=>Q(s.id),className:`bg-gradient-to-br from-gray-100 via-gray-200 to-gray-300 border-2 text-left cursor-pointer rounded-xl p-1.5 shadow-[0_4px_10px_rgb(0,0,0,0.1)] hover:shadow-[0_8px_20px_rgb(0,0,0,0.15)] hover:-translate-y-0.5 transition-all duration-300 group relative overflow-hidden ${T===s.id?"border-amber-500":"border-gray-300 hover:border-amber-400"}`,children:[e.jsx("div",{className:"absolute -right-6 -top-6 w-16 h-16 bg-gradient-to-br from-amber-200/50 to-transparent rounded-full opacity-0 group-hover:opacity-100 transition-opacity blur-lg"}),e.jsx("div",{className:"flex justify-between items-center mb-1 relative z-10",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex -space-x-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-white flex items-center justify-center text-[8px] font-black text-gray-700 border border-gray-200 shadow-sm z-10",children:s.from.substring(0,1)}),e.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-100 flex items-center justify-center text-[8px] font-bold text-gray-500 border border-gray-200 shadow-inner",children:s.to.substring(0,1)})]}),e.jsxs("span",{className:"font-extrabold text-gray-800 text-xs group-hover:text-amber-800 transition-colors",children:[s.from,"/",s.to]})]})}),e.jsx("div",{className:"flex items-baseline gap-1 relative z-10",children:e.jsx("span",{className:"text-lg font-black text-gray-900 tracking-tight group-hover:text-amber-900 transition-colors",children:r(s.rate,s.rate<1?6:2)})})]},s.id))}),ne.length>0&&e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full appearance-none bg-gray-50 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded-xl leading-tight focus:outline-none focus:bg-white focus:border-amber-500 font-bold transition-colors cursor-pointer",onChange:s=>{console.log("Selected pair:",s.target.value)},children:[e.jsxs("option",{value:"",children:["More trading pairs for"," ",l,"..."]}),ne.map(s=>e.jsxs("option",{value:s.id,children:[s.from,"/",s.to," •"," ",r(s.rate,s.rate<1?6:2)]},s.id))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500",children:e.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),g&&g.data&&g.data.length>0&&e.jsxs("div",{className:"mb-0",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-5 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Recent Transactions"]}),e.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm",children:[e.jsx("ul",{className:"divide-y divide-gray-50",children:g.data.map(s=>{let t=s.to_currency===l;if(s.from_account_id===s.to_account_id)if(s.type==="Transfer"||s.type==="transfer"){const ee=s.description?.match(/from (\w+) to (\w+)/i);if(ee){const Ve=ee[1],Oe=ee[2];u.toLowerCase()===Ve.toLowerCase()?t=!1:u.toLowerCase()===Oe.toLowerCase()&&(t=!0)}}else(s.type==="conversion"||s.type==="Conversion")&&(s.from_currency===l&&(t=!1),s.to_currency===l&&(t=!0));const p=["Spot Trade","Buy Crypto","Sell Crypto"].includes(s.type);let n=0,c=0;return p&&s.exchange_rate>0&&(n=Number(s.amount)/Number(s.exchange_rate),c=n-Number(s.converted_amount)),e.jsxs("li",{className:"p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-center z-10 relative",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-full ${t?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-bold text-gray-800",children:[s.type," ",t?"Received":"Sent"]}),e.jsx("p",{className:"text-xs text-gray-400",children:new Date(s.created_at).toLocaleString("en-US",{dateStyle:"medium",timeStyle:"short"})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-sm font-bold ${t?"text-green-600":"text-gray-900"}`,children:[t?"+":"-",r(t&&Number(s.converted_amount)>0?s.converted_amount:s.amount,8)," ",t?s.to_currency:s.from_currency]}),e.jsx("p",{className:"text-xs text-gray-400 font-medium",children:s.status})]})]}),p&&e.jsxs("div",{className:"mt-3 ml-12 bg-gray-50/80 rounded-xl p-3 border border-gray-100 grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"block text-gray-400 font-bold uppercase tracking-wider text-[10px]",children:"Spent"}),e.jsxs("span",{className:"font-bold text-gray-700",children:[r(s.amount,8)," ",s.from_currency]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-gray-400 font-bold uppercase tracking-wider text-[10px]",children:"Exec. Price"}),e.jsxs("span",{className:"font-bold text-gray-700",children:["1"," ",s.to_currency," ","≈"," ",r(s.exchange_rate,2)," ",s.from_currency]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-gray-400 font-bold uppercase tracking-wider text-[10px]",children:"Gross Received"}),e.jsxs("span",{className:"font-bold text-gray-700",children:[r(n,8)," ",s.to_currency]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-gray-400 font-bold uppercase tracking-wider text-[10px]",children:"Fee Deducted"}),e.jsxs("span",{className:"font-bold text-red-500",children:["-",r(c,8)," ",s.to_currency]})]})]})]},s.id)})}),g.links&&g.links.length>3&&e.jsx("div",{className:"bg-gray-50 px-4 py-3 border-t border-gray-200 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[g.prev_page_url&&e.jsx(O,{href:g.prev_page_url,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),g.next_page_url&&e.jsx(O,{href:g.next_page_url,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:g.from})," ","to"," ",e.jsx("span",{className:"font-medium",children:g.to})," ","of"," ",e.jsx("span",{className:"font-medium",children:g.total})," ","results"]})}),e.jsx("div",{children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:g.links.map((s,t)=>{const p=s.url?O:"span";return e.jsx(p,{href:s.url||void 0,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${s.active?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} ${s.url?"":"opacity-50 cursor-not-allowed"} ${t===0?"rounded-l-md":""} ${t===g.links.length-1?"rounded-r-md":""}`,children:e.jsx("span",{dangerouslySetInnerHTML:{__html:s.label}})},t)})})})]})]})})]})]})]})})}),e.jsx(x,{appear:!0,show:F,as:a.Fragment,children:e.jsxs(m,{as:"div",className:"relative z-50",onClose:()=>B(!1),children:[e.jsx(x.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e.jsx(x.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(m.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[e.jsxs(m.Title,{as:"h3",className:"text-lg font-bold leading-6 text-gray-900 flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),"Buy ",d.receiving]}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Trading Pair"}),e.jsx("select",{value:T||"",onChange:s=>Q(s.target.value),className:"w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 py-3 font-bold text-gray-800",children:N.map(s=>e.jsxs("option",{value:s.id,children:[s.from,"/",s.to," ","(Rate:"," ",r(s.rate,s.rate<1?6:2),")"]},s.id))})]}),o&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-2",children:[e.jsx("span",{children:"Rate Info"}),e.jsx("span",{className:"font-mono",children:d.rateLabel})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"I want to spend"}),e.jsxs("span",{className:`text-xs font-bold ${h?"text-red-500":"text-gray-500"}`,children:["Available:"," ",r(Z,2)," ",_]})]}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("input",{type:"number",value:i,onChange:s=>H(s.target.value),className:`block w-full rounded-xl pl-4 pr-16 py-3 focus:ring-indigo-500 sm:text-lg font-bold ${h?"border-red-300 text-red-900 placeholder-red-300 focus:border-red-500":"border-gray-300 focus:border-indigo-500"}`,placeholder:"0.00",step:"any"}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-4",children:e.jsx("span",{className:`${h?"text-red-500":"text-gray-500"} sm:text-sm font-bold`,children:d.spending})})]}),h&&e.jsxs("p",{className:"mt-1 text-xs text-red-600 font-bold",children:["Insufficient"," ",_," ","balance in Spot Wallet."]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-center mb-1",children:e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"I will receive (Net)"})}),parseFloat(i)>0&&e.jsxs("div",{className:"mb-2 px-2 py-1 bg-gray-50 rounded text-xs text-gray-500 flex flex-col gap-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Market Value:"}),e.jsxs("span",{className:"font-mono",children:[r(S,8)," ",d.receiving]})]}),e.jsxs("div",{className:"flex justify-between text-red-500",children:[e.jsxs("span",{children:["Fee (",P,"%):"]}),e.jsxs("span",{className:"font-mono",children:["-",r(X,8)," ",d.receiving]})]}),e.jsxs("div",{className:"border-t border-gray-200 mt-1 pt-1 flex justify-between font-bold text-gray-700",children:[e.jsx("span",{children:"Net Received:"}),e.jsxs("span",{children:[r(V,8)," ",d.receiving]})]})]}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("div",{className:"block w-full rounded-xl bg-gray-100 border-transparent pl-4 pr-16 py-3 text-gray-500 sm:text-lg font-bold",children:r(V,8)}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-4",children:e.jsx("span",{className:"text-gray-500 sm:text-sm font-bold",children:d.receiving})})]})]})]})]})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx("button",{type:"button",disabled:h||!i||parseFloat(i)<=0||k,className:`flex-1 flex justify-center items-center gap-2 rounded-xl border border-transparent px-4 py-3 text-sm font-bold text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors uppercase tracking-wider ${h||!i||parseFloat(i)<=0||k?"bg-gray-300 cursor-not-allowed":"bg-green-600 hover:bg-green-700 focus:ring-green-500"}`,onClick:Be,children:k?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):`Buy ${d.receiving}`}),e.jsx("button",{type:"button",disabled:k,className:"flex-shrink-0 justify-center rounded-xl border border-gray-300 bg-white px-4 py-3 text-sm font-bold text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors",onClick:()=>B(!1),children:"Cancel"})]})]})})})})]})}),e.jsx(x,{appear:!0,show:L,as:a.Fragment,children:e.jsxs(m,{as:"div",className:"relative z-50",onClose:()=>E(!1),children:[e.jsx(x.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e.jsx(x.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(m.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[e.jsxs(m.Title,{as:"h3",className:"text-lg font-bold leading-6 text-gray-900 flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),"Sell ",d.spending]}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Trading Pair"}),e.jsx("select",{value:T||"",onChange:s=>Q(s.target.value),className:"w-full rounded-xl border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500 py-3 font-bold text-gray-800",children:N.map(s=>e.jsxs("option",{value:s.id,children:[s.from,"/",s.to," ","(Rate:"," ",r(s.rate,s.rate<1?6:2),")"]},s.id))})]}),o&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-2",children:[e.jsx("span",{children:"Rate Info"}),e.jsx("span",{className:"font-mono",children:d.rateLabel})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"I want to Sell (Spend)"}),e.jsxs("span",{className:`text-xs font-bold ${h?"text-red-500":"text-gray-500"}`,children:["Available:"," ",r(Z,2)," ",_]})]}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("input",{type:"number",value:i,onChange:s=>H(s.target.value),className:`block w-full rounded-xl pl-4 pr-16 py-3 focus:ring-red-500 sm:text-lg font-bold ${h?"border-red-300 text-red-900 placeholder-red-300 focus:border-red-500":"border-gray-300 focus:border-red-500"}`,placeholder:"0.00",step:"any"}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-4",children:e.jsx("span",{className:`${h?"text-red-500":"text-gray-500"} sm:text-sm font-bold`,children:d.spending})})]}),h&&e.jsxs("p",{className:"mt-1 text-xs text-red-600 font-bold",children:["Insufficient"," ",_," ","balance."]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-center mb-1",children:e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"I will receive (Net)"})}),parseFloat(i)>0&&e.jsxs("div",{className:"mb-2 px-2 py-1 bg-gray-50 rounded text-xs text-gray-500 flex flex-col gap-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Market Value:"}),e.jsxs("span",{className:"font-mono",children:[r(S,8)," ",d.receiving]})]}),e.jsxs("div",{className:"flex justify-between text-red-500",children:[e.jsxs("span",{children:["Fee (",P,"%):"]}),e.jsxs("span",{className:"font-mono",children:["-",r(X,8)," ",d.receiving]})]}),e.jsxs("div",{className:"border-t border-gray-200 mt-1 pt-1 flex justify-between font-bold text-gray-700",children:[e.jsx("span",{children:"Net Received:"}),e.jsxs("span",{children:[r(V,8)," ",d.receiving]})]})]}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("div",{className:"block w-full rounded-xl bg-gray-100 border-transparent pl-4 pr-16 py-3 text-gray-500 sm:text-lg font-bold",children:r(V,8)}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-4",children:e.jsx("span",{className:"text-gray-500 sm:text-sm font-bold",children:d.receiving})})]})]})]})]})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx("button",{type:"button",disabled:h||!i||parseFloat(i)<=0||k,className:`flex-1 flex justify-center items-center gap-2 rounded-xl border border-transparent px-4 py-3 text-sm font-bold text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors uppercase tracking-wider ${h||!i||parseFloat(i)<=0||k?"bg-gray-300 cursor-not-allowed":"bg-red-600 hover:bg-red-700 focus:ring-red-500"}`,onClick:Ee,children:k?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):`Sell ${d.spending}`}),e.jsx("button",{type:"button",disabled:k,className:"flex-shrink-0 justify-center rounded-xl border border-gray-300 bg-white px-4 py-3 text-sm font-bold text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors",onClick:()=>E(!1),children:"Cancel"})]})]})})})})]})}),e.jsx(x,{appear:!0,show:_e,as:a.Fragment,children:e.jsxs(m,{as:"div",className:"relative z-50",onClose:()=>z(!1),children:[e.jsx(x.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e.jsx(x.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(m.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[e.jsxs(m.Title,{as:"h3",className:"text-lg font-bold leading-6 text-gray-900 flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),"Transfer ",l]}),e.jsxs("form",{onSubmit:ze,className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-3 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block mb-1",children:"From"}),e.jsx("select",{value:y.from_wallet,onChange:s=>C("from_wallet",s.target.value),className:"w-full bg-transparent border-none p-0 font-bold text-gray-800 focus:ring-0 text-sm",children:["Spot","Funding","Earn"].map(s=>e.jsx("option",{value:s,disabled:s===y.to_wallet,children:s},s))})]}),e.jsx("div",{className:"text-gray-400",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),e.jsxs("div",{className:"flex-1 text-right",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block mb-1",children:"To"}),e.jsx("select",{value:y.to_wallet,onChange:s=>C("to_wallet",s.target.value),className:"w-full bg-transparent border-none p-0 font-bold text-gray-800 focus:ring-0 text-sm text-right",dir:"rtl",children:["Spot","Funding","Earn"].map(s=>e.jsx("option",{value:s,disabled:s===y.from_wallet,children:s},s))})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-100",children:(()=>{const s=w.find(c=>c.wallet_type.toLowerCase()===y.from_wallet.toLowerCase()),t=s?parseFloat(s.balance):0,n=parseFloat(y.amount||0)>t;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Amount"}),e.jsxs("span",{className:`text-xs font-bold ${n?"text-red-500":"text-gray-500"}`,children:["Available (",y.from_wallet,"):"," ",r(t,8)," ",l]})]}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("input",{type:"number",value:y.amount,onChange:c=>C("amount",c.target.value),className:`block w-full rounded-xl pl-4 pr-16 py-3 border-gray-300 focus:border-blue-500 focus:ring-blue-500 sm:text-lg font-bold ${n?"border-red-300 text-red-900 focus:border-red-500 focus:ring-red-500":""}`,placeholder:"0.00",step:"any"}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-4",children:e.jsx("span",{className:`${n?"text-red-500":"text-gray-500"} sm:text-sm font-bold`,children:l})})]}),n&&e.jsx("p",{className:"mt-1 text-xs text-red-600 font-bold",children:"Amount exceeds available balance."}),oe.amount&&e.jsx("p",{className:"mt-1 text-xs text-red-600 font-bold",children:oe.amount})]})})()}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[(()=>{const s=w.find(c=>c.wallet_type.toLowerCase()===y.from_wallet.toLowerCase()),t=s?parseFloat(s.balance):0,p=parseFloat(y.amount||0),n=!K&&y.amount&&p>0&&p<=t;return e.jsx("button",{type:"submit",disabled:!n,className:`flex-1 flex justify-center items-center gap-2 rounded-xl border border-transparent px-4 py-3 text-sm font-bold text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors uppercase tracking-wider ${n?"bg-blue-600 hover:bg-blue-700":"bg-gray-300 cursor-not-allowed"}`,children:K?"Processing...":"Confirm Transfer"})})(),e.jsx("button",{type:"button",disabled:K,className:"flex-shrink-0 justify-center rounded-xl border border-gray-300 bg-white px-4 py-3 text-sm font-bold text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",onClick:()=>z(!1),children:"Cancel"})]})]})]})})})})]})}),e.jsx(x,{appear:!0,show:De,as:a.Fragment,children:e.jsxs(m,{as:"div",className:"relative z-50",onClose:()=>R(!1),children:[e.jsx(x.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e.jsx(x.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(m.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[e.jsxs(m.Title,{as:"h3",className:"text-lg font-bold leading-6 text-gray-900 flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),"Convert ",l," (",f.wallet_type," Wallet)"]}),e.jsxs("form",{onSubmit:Re,className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-100",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block mb-1",children:"From"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-bold text-gray-900 text-lg",children:l}),e.jsxs("span",{className:"text-xs font-bold text-gray-500",children:["Available:"," ",r(w.find(s=>s.wallet_type.toLowerCase()===f.wallet_type.toLowerCase())?.balance||0,8)]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block",children:"To"}),f.to_currency&&e.jsx("div",{className:"text-xs font-bold text-purple-600 bg-purple-50 px-2 py-1 rounded",children:(()=>{const s=N.find(t=>t.from===f.to_currency);if(s){const t=1/s.rate;return`1 ${l} ≈ ${r(t,t<1?6:2)} ${f.to_currency}`}return"Best Market Rate"})()})]}),e.jsxs("select",{value:f.to_currency,onChange:s=>A("to_currency",s.target.value),className:"w-full rounded-xl border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 py-3 font-bold text-gray-800",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Currency"}),(()=>{const s=["BTC","ETH","USDT","USDC","BNB"];return f.wallet_type==="Funding"&&s.push("USD","EUR"),s})().filter(s=>s!==l).map(s=>e.jsx("option",{value:s,children:s},s))]}),$.to_currency&&e.jsx("p",{className:"mt-1 text-xs text-red-600 font-bold",children:$.to_currency})]}),e.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-100",children:(()=>{const s=w.find(c=>c.wallet_type.toLowerCase()===f.wallet_type.toLowerCase()),t=s?parseFloat(s.balance):0,n=parseFloat(f.amount||0)>t;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center mb-1",children:e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Amount to Convert"})}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("input",{type:"number",value:f.amount,onChange:c=>A("amount",c.target.value),className:`block w-full rounded-xl pl-4 pr-16 py-3 border-gray-300 focus:border-purple-500 focus:ring-purple-500 sm:text-lg font-bold ${n?"border-red-300 text-red-900 focus:border-red-500 focus:ring-red-500":""}`,placeholder:"0.00",step:"any"}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-4",children:e.jsx("span",{className:`${n?"text-red-500":"text-gray-500"} sm:text-sm font-bold`,children:l})})]}),n&&e.jsx("p",{className:"mt-1 text-xs text-red-600 font-bold",children:"Amount exceeds available balance."}),$.amount&&e.jsx("p",{className:"mt-1 text-xs text-red-600 font-bold",children:$.amount})]})})()}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[(()=>{const s=w.find(c=>c.wallet_type.toLowerCase()===f.wallet_type.toLowerCase()),t=s?parseFloat(s.balance):0,p=parseFloat(f.amount||0),n=!Y&&f.to_currency&&p>0&&p<=t;return e.jsx("button",{type:"submit",disabled:!n,className:`flex-1 flex justify-center items-center gap-2 rounded-xl border border-transparent px-4 py-3 text-sm font-bold text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-colors uppercase tracking-wider ${n?"bg-purple-600 hover:bg-purple-700":"bg-gray-300 cursor-not-allowed"}`,children:Y?"Processing...":"Confirm Conversion"})})(),e.jsx("button",{type:"button",disabled:Y,className:"flex-shrink-0 justify-center rounded-xl border border-gray-300 bg-white px-4 py-3 text-sm font-bold text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-colors",onClick:()=>R(!1),children:"Cancel"})]})]})]})})})})]})}),e.jsx(x,{appear:!0,show:Le,as:a.Fragment,children:e.jsxs(m,{as:"div",className:"relative z-50",onClose:()=>U(!1),children:[e.jsx(x.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e.jsx(x.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(m.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[e.jsxs(m.Title,{as:"h3",className:"text-lg font-bold leading-6 text-gray-900 flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-100 text-teal-600 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),"Deposit Fiat to Funding"]}),e.jsxs("form",{onSubmit:Ue,className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"text-sm text-gray-500 bg-blue-50 p-4 rounded-xl border border-blue-100 mb-4",children:["Transfer funds from your internal ",e.jsx("strong",{children:"Fiat Account"})," to your ",e.jsx("strong",{children:"Funding Wallet"}),"."]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block mb-2",children:"Select Currency"}),e.jsxs("select",{value:j.currency,onChange:s=>G("currency",s.target.value),className:"w-full rounded-xl border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500 py-3 font-bold text-gray-800",children:[e.jsx("option",{value:"USD",children:"USD - US Dollar"}),e.jsx("option",{value:"EUR",children:"EUR - Euro"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-100",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block mb-1",children:"Source (Fiat Account)"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-bold text-gray-900 text-lg",children:j.currency}),e.jsxs("span",{className:"text-xs font-bold text-gray-500",children:["Available: ",r(q[j.currency]||0,2)]})]})]}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:(()=>{const s=parseFloat(q[j.currency]||0),p=parseFloat(j.amount||0)>s;return e.jsxs(e.Fragment,{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block mb-2",children:"Deposit Amount"}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("input",{type:"number",value:j.amount,onChange:n=>G("amount",n.target.value),className:`block w-full rounded-xl pl-4 pr-12 py-3 border-gray-300 focus:border-teal-500 focus:ring-teal-500 sm:text-lg font-bold ${p?"border-red-300 text-red-900 focus:border-red-500 focus:ring-red-500":""}`,placeholder:"0.00",min:"0.01",step:"any"}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:e.jsx("span",{className:`${p?"text-red-500":"text-gray-500"} sm:text-sm font-bold`,children:j.currency})})]}),p&&e.jsx("p",{className:"mt-1 text-xs text-red-600 font-bold",children:"Amount exceeds available balance."}),de.amount&&e.jsx("p",{className:"mt-1 text-xs text-red-600 font-bold",children:de.amount})]})})()}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{type:"button",className:"inline-flex justify-center rounded-xl border border-gray-300 bg-white px-4 py-2 text-sm font-bold text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 transition-colors",onClick:()=>U(!1),children:"Cancel"}),e.jsx("button",{type:"submit",disabled:ie||!j.amount||parseFloat(j.amount||0)>parseFloat(q[j.currency]||0),className:"inline-flex justify-center items-center gap-2 rounded-xl border border-transparent bg-teal-600 px-4 py-2 text-sm font-bold text-white shadow-sm hover:bg-teal-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-teal-500 focus-visible:ring-offset-2 disabled:opacity-50 transition-all",children:ie?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Depositing..."})]}):"Confirm Deposit"})]})]})]})})})})]})}),e.jsx(x,{appear:!0,show:Te,as:a.Fragment,children:e.jsxs(m,{as:"div",className:"relative z-50",onClose:()=>I(!1),children:[e.jsx(x.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e.jsx(x.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(m.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[e.jsxs(m.Title,{as:"h3",className:"text-lg font-bold leading-6 text-gray-900 flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})}),"Withdraw from Funding"]}),e.jsxs("form",{onSubmit:Ie,className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"text-sm text-gray-500 bg-orange-50 p-4 rounded-xl border border-orange-100 mb-4",children:["Withdraw funds from your ",e.jsx("strong",{children:"Funding Wallet"})," back to your ",e.jsx("strong",{children:"Fiat Account"}),"."]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block mb-2",children:"Select Currency"}),e.jsxs("select",{value:v.currency,onChange:s=>J("currency",s.target.value),className:"w-full rounded-xl border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 py-3 font-bold text-gray-800",children:[e.jsx("option",{value:"USD",children:"USD - US Dollar"}),e.jsx("option",{value:"EUR",children:"EUR - Euro"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-100",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block mb-1",children:"Source (Funding Wallet)"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-bold text-gray-900 text-lg",children:v.currency}),e.jsx("span",{className:"text-xs font-bold text-gray-500",children:(()=>{const s=w.find(t=>t.wallet_type.toLowerCase()==="funding"&&t.currency===v.currency);return`Available: ${r(s?s.balance:0,2)}`})()})]})]}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:(()=>{const s=w.find(c=>c.wallet_type.toLowerCase()==="funding"&&c.currency===v.currency),t=s?parseFloat(s.balance):0,n=parseFloat(v.amount||0)>t;return e.jsxs(e.Fragment,{children:[e.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase block mb-2",children:"Withdraw Amount"}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("input",{type:"number",value:v.amount,onChange:c=>J("amount",c.target.value),className:`block w-full rounded-xl pl-4 pr-12 py-3 border-gray-300 focus:border-orange-500 focus:ring-orange-500 sm:text-lg font-bold ${n?"border-red-300 text-red-900 focus:border-red-500 focus:ring-red-500":""}`,placeholder:"0.00",min:"0.01",step:"any"}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:e.jsx("span",{className:`${n?"text-red-500":"text-gray-500"} sm:text-sm font-bold`,children:v.currency})})]}),n&&e.jsx("p",{className:"mt-1 text-xs text-red-600 font-bold",children:"Amount exceeds available balance."}),xe.amount&&e.jsx("p",{className:"mt-1 text-xs text-red-600 font-bold",children:xe.amount})]})})()}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{type:"button",className:"inline-flex justify-center rounded-xl border border-gray-300 bg-white px-4 py-2 text-sm font-bold text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 transition-colors",onClick:()=>I(!1),children:"Cancel"}),e.jsx("button",{type:"submit",disabled:ce||!v.amount||parseFloat(v.amount||0)>(w.find(s=>s.wallet_type.toLowerCase()==="funding"&&s.currency===v.currency)?.balance||0),className:"inline-flex justify-center items-center gap-2 rounded-xl border border-transparent bg-orange-600 px-4 py-2 text-sm font-bold text-white shadow-sm hover:bg-orange-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-orange-500 focus-visible:ring-offset-2 disabled:opacity-50 transition-all",children:ce?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Withdrawing..."})]}):"Confirm Withdraw"})]})]})]})})})})]})})]})}export{rs as default};
